thread 'copy 3wz0q8btn9ibe803' panicked at 'assertion failed: module_config.emit_obj != EmitObj::None', /rustc/5ea3f0ae08c07472239a94ce55601e9b63eb1f45/compiler/rustc_codegen_ssa/src/back/write.rs:868:5
stack backtrace:
   0:        0x103621524 - <std::sys_common::backtrace::_print::DisplayBacktrace as core::fmt::Display>::fmt::h9675845f3c9f05c6
   1:        0x10367123c - core::fmt::write::h6b8cae09a00759fa
   2:        0x103617720 - std::io::Write::write_fmt::hd27733a2de37d4ab
   3:        0x103621378 - std::sys_common::backtrace::print::hc40f4b409f881ec3
   4:        0x103623dc0 - std::panicking::default_hook::{{closure}}::h8317de8c5933e379
   5:        0x103623bc8 - std::panicking::default_hook::hcc925ab6956c84f5
   6:        0x10ba2fab8 - rustc_driver_impl[4cde8ee32dfd8423]::install_ice_hook::{closure#0}
   7:        0x1036243d4 - std::panicking::rust_panic_with_hook::ha911d796e1166569
   8:        0x103624194 - std::panicking::begin_panic_handler::{{closure}}::h5b8020ead8092b2e
   9:        0x103621904 - std::sys_common::backtrace::__rust_end_short_backtrace::h87acd699ac34d298
  10:        0x103623f5c - _rust_begin_unwind
  11:        0x10369c180 - core::panicking::panic_fmt::h042d34ab7f376d90
  12:        0x10369c1f0 - core::panicking::panic::h54dfa6e458276b6a
  13:        0x10bb1d62c - rustc_codegen_ssa[cf4eb2ff647ebe38]::back::write::execute_work_item::<rustc_codegen_llvm[71494e7223c2895d]::LlvmCodegenBackend>
  14:        0x10bbdc92c - std[a2ba878c9106e762]::sys_common::backtrace::__rust_begin_short_backtrace::<<rustc_codegen_llvm[71494e7223c2895d]::LlvmCodegenBackend as rustc_codegen_ssa[cf4eb2ff647ebe38]::traits::backend::ExtraBackendMethods>::spawn_named_thread<rustc_codegen_ssa[cf4eb2ff647ebe38]::back::write::spawn_work<rustc_codegen_llvm[71494e7223c2895d]::LlvmCodegenBackend>::{closure#0}, ()>::{closure#0}, ()>
  15:        0x10bb9fb84 - <<std[a2ba878c9106e762]::thread::Builder>::spawn_unchecked_<<rustc_codegen_llvm[71494e7223c2895d]::LlvmCodegenBackend as rustc_codegen_ssa[cf4eb2ff647ebe38]::traits::backend::ExtraBackendMethods>::spawn_named_thread<rustc_codegen_ssa[cf4eb2ff647ebe38]::back::write::spawn_work<rustc_codegen_llvm[71494e7223c2895d]::LlvmCodegenBackend>::{closure#0}, ()>::{closure#0}, ()>::{closure#1} as core[6d81f5cc4d369880]::ops::function::FnOnce<()>>::call_once::{shim:vtable#0}
  16:        0x10362cd30 - std::sys::unix::thread::Thread::new::thread_start::h22a6f6ee37306286
  17:        0x19b58ffa8 - __pthread_joiner_wake

error: the compiler unexpectedly panicked. this is a bug.

note: we would appreciate a bug report: https://github.com/rust-lang/rust/issues/new?labels=C-bug%2C+I-ICE%2C+T-compiler&template=ice.md

note: rustc 1.71.0-nightly (5ea3f0ae0 2023-05-23) running on aarch64-apple-darwin

note: compiler flags: --crate-type lib -C embed-bitcode=no -C debuginfo=2 -C incremental=[REDACTED] -Z unstable-options

note: some of the compiler flags provided by cargo are hidden

query stack during panic:
end of query stack
thread '<unnamed>' panicked at '/rustc/5ea3f0ae08c07472239a94ce55601e9b63eb1f45/compiler/rustc_codegen_ssa/src/back/write.rs:1535:21: worker thread panicked', compiler/rustc_middle/src/util/bug.rs:36:26
stack backtrace:
   0:        0x103621524 - <std::sys_common::backtrace::_print::DisplayBacktrace as core::fmt::Display>::fmt::h9675845f3c9f05c6
   1:        0x10367123c - core::fmt::write::h6b8cae09a00759fa
   2:        0x103617720 - std::io::Write::write_fmt::hd27733a2de37d4ab
   3:        0x103621378 - std::sys_common::backtrace::print::hc40f4b409f881ec3
   4:        0x103623dc0 - std::panicking::default_hook::{{closure}}::h8317de8c5933e379
   5:        0x103623bc8 - std::panicking::default_hook::hcc925ab6956c84f5
   6:        0x10ba2fab8 - rustc_driver_impl[4cde8ee32dfd8423]::install_ice_hook::{closure#0}
   7:        0x1036243d4 - std::panicking::rust_panic_with_hook::ha911d796e1166569
   8:        0x10f7f4280 - std[a2ba878c9106e762]::panicking::begin_panic::<alloc[4f2b4e4df2dc9203]::string::String>::{closure#0}
   9:        0x10f7f1028 - std[a2ba878c9106e762]::sys_common::backtrace::__rust_end_short_backtrace::<std[a2ba878c9106e762]::panicking::begin_panic<alloc[4f2b4e4df2dc9203]::string::String>::{closure#0}, !>
  10:        0x10fdc0dd8 - std[a2ba878c9106e762]::panicking::begin_panic::<alloc[4f2b4e4df2dc9203]::string::String>
  11:        0x10f8c7608 - rustc_middle[1500f67879e75bff]::util::bug::opt_span_bug_fmt::<rustc_span[716af3750bd78128]::span_encoding::Span>::{closure#0}
  12:        0x10f8c33c4 - rustc_middle[1500f67879e75bff]::ty::context::tls::with_opt::<rustc_middle[1500f67879e75bff]::util::bug::opt_span_bug_fmt<rustc_span[716af3750bd78128]::span_encoding::Span>::{closure#0}, !>::{closure#0}
  13:        0x10f8c3390 - rustc_middle[1500f67879e75bff]::ty::context::tls::with_context_opt::<rustc_middle[1500f67879e75bff]::ty::context::tls::with_opt<rustc_middle[1500f67879e75bff]::util::bug::opt_span_bug_fmt<rustc_span[716af3750bd78128]::span_encoding::Span>::{closure#0}, !>::{closure#0}, !>
  14:        0x10fdc5fc8 - rustc_middle[1500f67879e75bff]::util::bug::bug_fmt
  15:        0x10bbdc0a8 - std[a2ba878c9106e762]::sys_common::backtrace::__rust_begin_short_backtrace::<<rustc_codegen_llvm[71494e7223c2895d]::LlvmCodegenBackend as rustc_codegen_ssa[cf4eb2ff647ebe38]::traits::backend::ExtraBackendMethods>::spawn_thread<rustc_codegen_ssa[cf4eb2ff647ebe38]::back::write::start_executing_work<rustc_codegen_llvm[71494e7223c2895d]::LlvmCodegenBackend>::{closure#4}, core[6d81f5cc4d369880]::result::Result<rustc_codegen_ssa[cf4eb2ff647ebe38]::back::write::CompiledModules, ()>>::{closure#0}, core[6d81f5cc4d369880]::result::Result<rustc_codegen_ssa[cf4eb2ff647ebe38]::back::write::CompiledModules, ()>>
  16:        0x10bb9f958 - <<std[a2ba878c9106e762]::thread::Builder>::spawn_unchecked_<<rustc_codegen_llvm[71494e7223c2895d]::LlvmCodegenBackend as rustc_codegen_ssa[cf4eb2ff647ebe38]::traits::backend::ExtraBackendMethods>::spawn_thread<rustc_codegen_ssa[cf4eb2ff647ebe38]::back::write::start_executing_work<rustc_codegen_llvm[71494e7223c2895d]::LlvmCodegenBackend>::{closure#4}, core[6d81f5cc4d369880]::result::Result<rustc_codegen_ssa[cf4eb2ff647ebe38]::back::write::CompiledModules, ()>>::{closure#0}, core[6d81f5cc4d369880]::result::Result<rustc_codegen_ssa[cf4eb2ff647ebe38]::back::write::CompiledModules, ()>>::{closure#1} as core[6d81f5cc4d369880]::ops::function::FnOnce<()>>::call_once::{shim:vtable#0}
  17:        0x10362cd30 - std::sys::unix::thread::Thread::new::thread_start::h22a6f6ee37306286
  18:        0x19b58ffa8 - __pthread_joiner_wake

error: the compiler unexpectedly panicked. this is a bug.

note: we would appreciate a bug report: https://github.com/rust-lang/rust/issues/new?labels=C-bug%2C+I-ICE%2C+T-compiler&template=ice.md

note: rustc 1.71.0-nightly (5ea3f0ae0 2023-05-23) running on aarch64-apple-darwin

note: compiler flags: --crate-type lib -C embed-bitcode=no -C debuginfo=2 -C incremental=[REDACTED] -Z unstable-options

note: some of the compiler flags provided by cargo are hidden

query stack during panic:
end of query stack
thread 'rustc' panicked at '/rustc/5ea3f0ae08c07472239a94ce55601e9b63eb1f45/compiler/rustc_codegen_ssa/src/back/write.rs:1899:17: panic during codegen/LLVM phase', compiler/rustc_middle/src/util/bug.rs:36:26
stack backtrace:
   0:        0x103621524 - <std::sys_common::backtrace::_print::DisplayBacktrace as core::fmt::Display>::fmt::h9675845f3c9f05c6
   1:        0x10367123c - core::fmt::write::h6b8cae09a00759fa
   2:        0x103617720 - std::io::Write::write_fmt::hd27733a2de37d4ab
   3:        0x103621378 - std::sys_common::backtrace::print::hc40f4b409f881ec3
   4:        0x103623dc0 - std::panicking::default_hook::{{closure}}::h8317de8c5933e379
   5:        0x103623bc8 - std::panicking::default_hook::hcc925ab6956c84f5
   6:        0x10ba2fab8 - rustc_driver_impl[4cde8ee32dfd8423]::install_ice_hook::{closure#0}
   7:        0x1036243d4 - std::panicking::rust_panic_with_hook::ha911d796e1166569
   8:        0x10f7f4280 - std[a2ba878c9106e762]::panicking::begin_panic::<alloc[4f2b4e4df2dc9203]::string::String>::{closure#0}
   9:        0x10f7f1028 - std[a2ba878c9106e762]::sys_common::backtrace::__rust_end_short_backtrace::<std[a2ba878c9106e762]::panicking::begin_panic<alloc[4f2b4e4df2dc9203]::string::String>::{closure#0}, !>
  10:        0x10fdc0dd8 - std[a2ba878c9106e762]::panicking::begin_panic::<alloc[4f2b4e4df2dc9203]::string::String>
  11:        0x10f8c7608 - rustc_middle[1500f67879e75bff]::util::bug::opt_span_bug_fmt::<rustc_span[716af3750bd78128]::span_encoding::Span>::{closure#0}
  12:        0x10f8c33c4 - rustc_middle[1500f67879e75bff]::ty::context::tls::with_opt::<rustc_middle[1500f67879e75bff]::util::bug::opt_span_bug_fmt<rustc_span[716af3750bd78128]::span_encoding::Span>::{closure#0}, !>::{closure#0}
  13:        0x10f8c3390 - rustc_middle[1500f67879e75bff]::ty::context::tls::with_context_opt::<rustc_middle[1500f67879e75bff]::ty::context::tls::with_opt<rustc_middle[1500f67879e75bff]::util::bug::opt_span_bug_fmt<rustc_span[716af3750bd78128]::span_encoding::Span>::{closure#0}, !>::{closure#0}, !>
  14:        0x10fdc5fc8 - rustc_middle[1500f67879e75bff]::util::bug::bug_fmt
  15:        0x10bb7c388 - <rustc_session[8207ce839a04c39e]::session::Session>::time::<rustc_codegen_ssa[cf4eb2ff647ebe38]::back::write::CompiledModules, <rustc_codegen_ssa[cf4eb2ff647ebe38]::back::write::OngoingCodegen<rustc_codegen_llvm[71494e7223c2895d]::LlvmCodegenBackend>>::join::{closure#0}>
  16:        0x10bb25bf0 - <rustc_codegen_ssa[cf4eb2ff647ebe38]::back::write::OngoingCodegen<rustc_codegen_llvm[71494e7223c2895d]::LlvmCodegenBackend>>::join
  17:        0x10bb671f8 - <rustc_codegen_llvm[71494e7223c2895d]::LlvmCodegenBackend as rustc_codegen_ssa[cf4eb2ff647ebe38]::traits::backend::CodegenBackend>::join_codegen
  18:        0x10baf6c74 - <rustc_interface[898cbce1f9ce6183]::queries::Linker>::link
  19:        0x10b9df7f0 - rustc_span[716af3750bd78128]::set_source_map::<core[6d81f5cc4d369880]::result::Result<(), rustc_span[716af3750bd78128]::ErrorGuaranteed>, rustc_interface[898cbce1f9ce6183]::interface::run_compiler<core[6d81f5cc4d369880]::result::Result<(), rustc_span[716af3750bd78128]::ErrorGuaranteed>, rustc_driver_impl[4cde8ee32dfd8423]::run_compiler::{closure#1}>::{closure#0}::{closure#0}>
  20:        0x10b9e8de4 - <scoped_tls[96d097d28d4aa6ce]::ScopedKey<rustc_span[716af3750bd78128]::SessionGlobals>>::set::<rustc_interface[898cbce1f9ce6183]::interface::run_compiler<core[6d81f5cc4d369880]::result::Result<(), rustc_span[716af3750bd78128]::ErrorGuaranteed>, rustc_driver_impl[4cde8ee32dfd8423]::run_compiler::{closure#1}>::{closure#0}, core[6d81f5cc4d369880]::result::Result<(), rustc_span[716af3750bd78128]::ErrorGuaranteed>>
  21:        0x10b9e3a80 - std[a2ba878c9106e762]::sys_common::backtrace::__rust_begin_short_backtrace::<rustc_interface[898cbce1f9ce6183]::util::run_in_thread_pool_with_globals<rustc_interface[898cbce1f9ce6183]::interface::run_compiler<core[6d81f5cc4d369880]::result::Result<(), rustc_span[716af3750bd78128]::ErrorGuaranteed>, rustc_driver_impl[4cde8ee32dfd8423]::run_compiler::{closure#1}>::{closure#0}, core[6d81f5cc4d369880]::result::Result<(), rustc_span[716af3750bd78128]::ErrorGuaranteed>>::{closure#0}::{closure#0}, core[6d81f5cc4d369880]::result::Result<(), rustc_span[716af3750bd78128]::ErrorGuaranteed>>
  22:        0x10b9de11c - <<std[a2ba878c9106e762]::thread::Builder>::spawn_unchecked_<rustc_interface[898cbce1f9ce6183]::util::run_in_thread_pool_with_globals<rustc_interface[898cbce1f9ce6183]::interface::run_compiler<core[6d81f5cc4d369880]::result::Result<(), rustc_span[716af3750bd78128]::ErrorGuaranteed>, rustc_driver_impl[4cde8ee32dfd8423]::run_compiler::{closure#1}>::{closure#0}, core[6d81f5cc4d369880]::result::Result<(), rustc_span[716af3750bd78128]::ErrorGuaranteed>>::{closure#0}::{closure#0}, core[6d81f5cc4d369880]::result::Result<(), rustc_span[716af3750bd78128]::ErrorGuaranteed>>::{closure#1} as core[6d81f5cc4d369880]::ops::function::FnOnce<()>>::call_once::{shim:vtable#0}
  23:        0x10362cd30 - std::sys::unix::thread::Thread::new::thread_start::h22a6f6ee37306286
  24:        0x19b58ffa8 - __pthread_joiner_wake

error: the compiler unexpectedly panicked. this is a bug.

note: we would appreciate a bug report: https://github.com/rust-lang/rust/issues/new?labels=C-bug%2C+I-ICE%2C+T-compiler&template=ice.md

note: rustc 1.71.0-nightly (5ea3f0ae0 2023-05-23) running on aarch64-apple-darwin

note: compiler flags: --crate-type lib -C embed-bitcode=no -C debuginfo=2 -C incremental=[REDACTED] -Z unstable-options

note: some of the compiler flags provided by cargo are hidden

query stack during panic:
end of query stack
